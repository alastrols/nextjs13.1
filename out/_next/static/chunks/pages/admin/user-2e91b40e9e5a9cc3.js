(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{5542:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/user",function(){return t(3621)}])},5078:function(e,n,t){"use strict";t.d(n,{Z:function(){return L}});var i=t(5893),r=t(7294),s=t(1496),a=t(7357),l=t(6720),o=t(2293),c=t(155),d=t(3946),u=t(326),h=t(1988),x=t(5294),p=t(8972),m=t(7027),j=t(2686);let g=(0,s.ZP)(o.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...t&&{width:"calc(100% - ".concat(240,"px)"),marginLeft:"".concat(240,"px"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})}}});function f(e){let{open:n,onDrawerOpen:t}=e,[s,l]=r.useState(!1),o=()=>{l(!1)},f=(0,j.t)(),[Z,b]=r.useState(null),w=r.useRef(null);return r.useEffect(()=>{b(w.current)},[w]),(0,i.jsx)(g,{position:"fixed",open:n,children:(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",onClick:t,edge:"start",sx:{mr:2,...n&&{display:"none"}},children:(0,i.jsx)(u.Z,{})}),(0,i.jsx)(a.Z,{sx:{flexGrow:1}}),(0,i.jsxs)(a.Z,{sx:{display:{xs:"none",md:"flex"}},children:[(0,i.jsx)(d.Z,{ref:w,"aria-label":"account of current user","aria-haspopup":"true",color:"inherit",onClick:()=>l(!s),children:(0,i.jsx)(h.Z,{})}),(0,i.jsx)(x.Z,{anchorEl:Z,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:o,children:(0,i.jsx)(p.Z,{onClick:()=>f((0,m.kS)()),children:"Logout"})})]})]})})}var Z=t(2734),b=t(7533),w=t(8462),v=t(7720),C=t(9572),P=t(6215),y=t(7594),k=t(9334),S=t(6447),_=t(891),D=t(7922),E=t(1664),O=t.n(E),z=t(1718),B=t(1163),R=t(5398),M=t(5675),N=t.n(M),A=t(9473);let I=(0,s.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"}});function T(e){let{open:n,onDrawerClose:t}=e,s=(0,Z.Z)(),a=(0,B.useRouter)();(0,A.v9)(e=>e.admin);let[l,o]=r.useState(!1),[c,u]=r.useState(!1);return(0,i.jsxs)(b.ZP,{sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:n,children:[(0,i.jsx)(I,{children:(0,i.jsxs)(S.Z,{direction:"row",alignItems:"center",children:[(0,i.jsx)(N(),{width:200,height:68,unoptimized:!0,alt:"logo",src:"/static/images/logo.png"}),(0,i.jsx)(d.Z,{onClick:t,children:"ltr"===s.direction?(0,i.jsx)(C.Z,{}):(0,i.jsx)(P.Z,{})})]})}),(0,i.jsx)(v.Z,{}),(0,i.jsx)(w.Z,{children:(0,i.jsx)(O(),{href:"/admin/user",style:{textDecoration:"none",color:"#000000DE"},passHref:!0,children:(0,i.jsxs)(_.ZP,{button:!0,onClick:()=>o(!l),className:"/admin/user"===a.pathname?"Mui-selected":"/admin/user/edit"===a.pathname?"Mui-selected":"/admin/user/add"===a.pathname?"Mui-selected":"",children:[(0,i.jsx)(y.Z,{children:(0,i.jsx)(R.Z,{})}),(0,i.jsx)(k.Z,{primary:"User"})]})})}),(0,i.jsx)(w.Z,{children:(0,i.jsxs)(O(),{href:"#",style:{textDecoration:"none",color:"#000000DE"},passHref:!0,children:[(0,i.jsxs)(_.ZP,{onClick:()=>u(!c),className:"/admin/news/jp"===a.pathname?"Mui-selected":"/admin/news/jp/edit"===a.pathname?"Mui-selected":"/admin/news/jp/add"===a.pathname?"Mui-selected":"",children:[(0,i.jsx)(y.Z,{children:(0,i.jsx)(z.Z,{})}),(0,i.jsx)(k.Z,{primary:"News"})]}),(0,i.jsx)(D.Z,{in:"/admin/news/jp"===a.pathname||"/admin/news/jp/edit"===a.pathname||"/admin/news/jp/add"===a.pathname||c,timeout:"auto",unmountOnExit:!0,children:(0,i.jsx)(w.Z,{component:"li",disablePadding:!0,style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(O(),{href:"/admin/news/jp",style:{textDecoration:"/admin/news/jp"==a.pathname?"":"/admin/news/jp/add"==a.pathname?"":"/admin/news/jp/edit"==a.pathname?"":"none",color:"#000000DE"},passHref:!0,children:(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(y.Z,{children:(0,i.jsx)(z.Z,{fontSize:"small"})}),(0,i.jsx)(k.Z,{primary:"JP"},0)]},0)})},0)},0)]})})]})}let U=(0,s.ZP)("main",{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:"-".concat(240,"px"),...t&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0}}}),Y=(0,s.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"}});function L(e){let{children:n}=e,[t,s]=r.useState(!0),o=()=>{s(!0)},c=()=>{s(!1)};return(0,i.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,i.jsx)(l.ZP,{}),(0,i.jsx)(f,{open:t,onDrawerOpen:o}),(0,i.jsx)(T,{open:t,onDrawerClose:c}),(0,i.jsxs)(U,{open:t,children:[(0,i.jsx)(Y,{}),n]})]})}},6477:function(e,n,t){"use strict";var i=t(5893);t(7294);var r=t(1163),s=t(2686),a=t(7027);let l=e=>n=>{let t=(0,r.useRouter)(),{route:l}=t,{data:o,isAuthenticated:c,isAuthenticating:d}=(0,s.W)(e=>e.login),u=(0,s.t)();if(d)return u((0,a.Gg)()),null;if("/admin/login"!==l&&"/admin/register"!==l){if(!c)return t.push("/admin/login"),null}else if(c)return t.push("/admin/news/jp"),null;return"/admin"==l?c?(t.push("/admin/news/jp"),null):(t.push("/admin/login"),null):(0,i.jsx)(e,{...n})};n.Z=l},4880:function(e,n,t){"use strict";function i(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function r(e,n){return"desc"===e?(e,t)=>i(e,t,n):(e,t)=>-i(e,t,n)}function s(e,n){let t=e.map((e,n)=>[e,n]);return t.sort((e,t)=>{let i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]}),t.map(e=>e[0])}t.d(n,{XV:function(){return s},sQ:function(){return r}})},3621:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var i=t(5893),r=t(6477),s=t(7294),a=t(2686),l=t(5078),o=t(1903),c=t(3321),d=t(6447),u=t(7357),h=t(7906),x=t(295),p=t(3252),m=t(2882),j=t(5347),g=t(3816),f=t(629),Z=t(5071),b=t(155),w=t(1796),v=t(5861),C=t(1733),P=t(3946),y=t(7957),k=t(9332),S=t(6455),_=t.n(S),D=t(1163),E=t.n(D),O=t(4880),z=t(3113),B=t(3184),R=t(6280);let M=[{id:"fullname",numeric:!1,disablePadding:!0,label:"Fullname"},{id:"username",numeric:!1,disablePadding:!0,label:"Username"},{id:"email",numeric:!1,disablePadding:!0,label:"Email"},{id:"status",numeric:!1,disablePadding:!0,label:"Status"},{id:"level",numeric:!1,disablePadding:!0,label:"Level"},{id:"-",numeric:!1,disablePadding:!0,label:"Action"}];function N(e){let{onSelectAllClick:n,order:t,orderBy:r,numSelected:s,rowCount:a,onRequestSort:l}=e,o=e=>n=>{l(n,e)};return(0,i.jsx)(B.Z,{children:(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(p.Z,{padding:"checkbox",align:"center",children:(0,i.jsx)(Z.Z,{color:"primary",indeterminate:s>0&&s<a,checked:a>0&&s===a,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),M.map(e=>(0,i.jsx)(p.Z,{align:"center",padding:"none",sx:{fontWeight:"bold"},sortDirection:r===e.id&&t,children:(0,i.jsxs)(R.Z,{active:r===e.id,direction:r===e.id?t:"asc",onClick:o(e.id),children:[e.label,r===e.id?(0,i.jsx)(u.Z,{component:"span",sx:z.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id))]})})}var A=t(9485);let I=()=>{let e=(0,a.t)(),[n,t]=s.useState(""),{data:r}=(0,a.W)(e=>e.user),[S,D]=(0,s.useState)("asc"),[z,B]=(0,s.useState)(""),[R,M]=(0,s.useState)([]),[I,T]=(0,s.useState)(0),[U,Y]=(0,s.useState)(!1),[L,W]=(0,s.useState)(10);var F=null!=r?r:[];s.useEffect(()=>{e((0,A.PR)())},[e]),s.useEffect(()=>{e((0,A.PR)(n))},[e,n]);let X=n=>{_().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{M([]),t.isConfirmed&&_().fire("Deleted!","Your data has been deleted.","success").then(function(){e((0,A.h8)(n)).then(n=>{e((0,A.PR)())})})})},G=n=>{_().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{M([]),t.isConfirmed&&_().fire("Deleted!","Your data has been deleted.","success").then(function(){e((0,A.h8)(n)).then(n=>{"success"==n.payload.status&&e((0,A.PR)())})})})},H=(e,n)=>{D(z===n&&"asc"===S?"desc":"asc"),B(n)},q=e=>{if(e.target.checked){let n=F.map(e=>e.user_id);M(n);return}M([])},Q=(e,n)=>{let t=R.indexOf(n),i=[];-1===t?i=i.concat(R,n):0===t?i=i.concat(R.slice(1)):t===R.length-1?i=i.concat(R.slice(0,-1)):t>0&&(i=i.concat(R.slice(0,t),R.slice(t+1))),M(i)},V=(e,n)=>{T(n)},J=e=>{W(parseInt(e.target.value,10)),T(0)},K=e=>-1!==R.indexOf(e);return I>0&&F.length,(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(o.Z,{fullWidth:!0,value:n,label:"Search...",onChange:e=>{e.preventDefault(),t(e.target.value)}}),(0,i.jsx)(u.Z,{sx:{width:"100%",mt:3},children:(0,i.jsxs)(f.Z,{sx:{width:"100%",mb:2},children:[(0,i.jsx)(function(e){let{numSelected:n,valSelected:t}=e;return(0,i.jsxs)(b.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...n>0&&{bgcolor:e=>(0,w.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[n>0?(0,i.jsxs)(v.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):(0,i.jsx)(v.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"User"}),n>0?(0,i.jsx)(k.Z,{title:"Delete",children:(0,i.jsx)(P.Z,{color:"error",onClick:()=>G(t),children:(0,i.jsx)(C.Z,{})})}):(0,i.jsx)(k.Z,{title:"",children:(0,i.jsx)(P.Z,{})})]})},{numSelected:R.length,valSelected:R}),(0,i.jsx)(c.Z,{sx:{ml:2,mb:1},variant:"contained",color:"primary",onClick:()=>E().push("/admin/user/add"),children:"Add User"}),(0,i.jsx)(c.Z,{sx:{ml:2},variant:"contained",color:"secondary",onClick:()=>E().push("/admin/user/upload"),children:"Upload User by excel"}),(0,i.jsx)(m.Z,{children:(0,i.jsxs)(h.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:U?"small":"medium",children:[(0,i.jsx)(N,{numSelected:R.length,order:S,orderBy:z,onSelectAllClick:q,onRequestSort:H,rowCount:F.length}),(0,i.jsx)(x.Z,{children:F.length>0?(0,O.XV)(F,(0,O.sQ)(S,z)).slice(I*L,I*L+L).map((e,n)=>{let t=K(e.user_id);return(0,i.jsxs)(g.Z,{hover:!0,onClick:n=>Q(n,e.user_id),role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,children:[(0,i.jsx)(p.Z,{padding:"checkbox",align:"center",children:(0,i.jsx)(Z.Z,{color:"primary",checked:t,inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}})}),(0,i.jsx)(p.Z,{align:"center",children:e.fullname}),(0,i.jsx)(p.Z,{align:"center",children:e.username}),(0,i.jsx)(p.Z,{align:"center",children:e.email}),(0,i.jsx)(p.Z,{align:"center",children:"active"==e.status?"Active":"In Active"}),(0,i.jsx)(p.Z,{align:"center",children:e.level}),(0,i.jsx)(p.Z,{align:"center",children:(0,i.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,i.jsx)(P.Z,{color:"primary","aria-label":"edit",size:"large",onClick:()=>E().push("/admin/user/edit?id=".concat(e.user_id)),children:(0,i.jsx)(y.Z,{fontSize:"inherit"})}),(0,i.jsx)(P.Z,{color:"error","aria-label":"delete",size:"large",onClick:()=>X(e.user_id),children:(0,i.jsx)(C.Z,{fontSize:"inherit"})})]})})]},e.user_id)}):""})]})}),(0,i.jsx)(j.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:F.length,rowsPerPage:L,page:I,onPageChange:V,onRowsPerPageChange:J})]})})]})};var T=(0,r.Z)(I)}},function(e){e.O(0,[350,616,903,397,774,888,179],function(){return e(e.s=5542)}),_N_E=e.O()}]);
//# sourceMappingURL=user-2e91b40e9e5a9cc3.js.map