{"version":3,"file":"static/chunks/pages/admin/user-96c6ce7282b78e1b.js","mappings":"oFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,cACA,WACA,OAAeC,EAAQ,KACvB,EACA,2FCAA,IAAMC,EAAW,GAAgC,GAAgB,CAC/D,IAAMC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,IACT,CAAEC,MAAAA,CAAAA,CAAO,CAAGF,EACZ,CAAEG,KAAAA,CAAAA,CAAMC,gBAAAA,CAAAA,CAAiBC,iBAAAA,CAAAA,CAAkB,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,EAClD,GAAgBC,EAAMC,KAAK,EAEvBC,EAAWC,CAAAA,EAAAA,EAAAA,CAAAA,IAMjB,GALAC,EAAAA,SAAe,CAAC,IAAM,CACpBF,EAASG,CAAAA,EAAAA,EAAAA,EAAAA,IACX,EAAG,CAACH,EAAS,EAGTJ,EACF,OAAO,IAAI,CAIb,GAAIH,iBAAAA,GAA4BA,oBAAAA,EAC9B,IAAI,CAACE,EAEH,OADAJ,EAAOH,IAAI,CAAE,gBACN,IAAI,MAGb,GAAIO,EAEF,OADAJ,EAAOH,IAAI,CAAE,eACN,IAAI,OAIf,UAAIK,EACF,GACEF,EAAOH,IAAI,CAAE,eACN,IAAI,GAEXG,EAAOH,IAAI,CAAE,gBACN,IAAI,CACZ,CAGI,GAAAgB,EAAAC,GAAA,EAACC,EAAAA,CAAkB,GAAGC,CAAK,EAFjC,CAOHC,CAAAA,EAAA,EAAelB,mJC1Cf,IAAMmB,EAAkB,GAAsB,IAArB,CAAEC,QAAAA,CAAAA,CAAc,CAAAC,EACtBV,CAAAA,EAAAA,EAAAA,CAAAA,IACjB,GAAM,CAAEP,KAAAA,CAAAA,CAAMkB,QAAAA,CAAAA,CAASC,MAAAA,CAAAA,CAAO,CAAGhB,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,GAAWC,EAAMgB,UAAU,EAExE,MACE,GAAAV,EAAAW,IAAA,EAACC,MAAAA,WACC,GAAAZ,EAAAC,GAAA,EAACY,KAAAA,UAAG,SACJ,GAAAb,EAAAC,GAAA,EAACa,IAAAA,UAAGR,IACJ,GAAAN,EAAAC,GAAA,EAACc,IAAIA,CAACC,KAAK,uBAAc,cAG/B,UAWAZ,CAAAA,EAAA,QAAelB,CAAAA,EAAAA,EAAAA,CAAAA,EAASmB,2GC3BjB,IAAMR,EAAc,IAAMoB,CAAAA,EAAAA,EAAAA,EAAAA,IACpBxB,EAA+CyB,EAAAA,EAAWA","sources":["webpack://_N_E/?d8cd","webpack://_N_E/./components/admin/withAuth.tsx","webpack://_N_E/./pages/admin/user/index.tsx","webpack://_N_E/./store/hooks.ts","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/user\",\n      function () {\n        return require(\"private-next-pages/admin/user/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/user\"])\n      });\n    }\n  ","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Router, { useRouter } from \"next/router\";\r\nimport { appSelector, appDispatch } from \"@/store/hooks\";\r\nimport { getSession } from \"@/features/admin/login\";\r\n\r\nconst withAuth = (WrappedComponent: React.FC) => (props: any) => {\r\n  const router = useRouter();\r\n  const { route } = router;\r\n  const { data, isAuthenticated, isAuthenticating } = appSelector(\r\n    (state: any) => state.login\r\n  );\r\n  const dispatch = appDispatch();\r\n  React.useEffect(() => {\r\n    dispatch(getSession());\r\n  }, [dispatch]);\r\n\r\n  // is fetching session (eg. show spinner)\r\n  if (isAuthenticating) {\r\n    return null;\r\n  }\r\n  // If user is not logged in, return login component\r\n\r\n  if (route !== \"/admin/login\" && route !== \"/admin/register\") {\r\n    if (!isAuthenticated) {\r\n      router.push(`/admin/login`);\r\n      return null;\r\n    }\r\n  } else {\r\n    if (isAuthenticated) {\r\n      router.push(`/admin/user`); // default page after login\r\n      return null;\r\n    }\r\n  }\r\n  \r\n  if (route == \"/admin\") {\r\n    if (isAuthenticated) {\r\n      router.push(`/admin/user`);\r\n      return null;\r\n    }else{\r\n      router.push(`/admin/login`);\r\n      return null;\r\n    }\r\n  }\r\n  // If user is logged in, return original component\r\n  return <WrappedComponent {...props} />;\r\n\r\n  return null;\r\n};\r\n\r\nexport default withAuth;\r\n","import withAuth from \"@/components/admin/withAuth\";\r\nimport { GetServerSideProps, NextPage } from \"next/types\";\r\nimport React from \"react\";\r\nimport { appDispatch, appSelector } from \"@/store/hooks\";\r\nimport { getKanyeQuote } from \"@/features/random\";\r\nimport { wrapper } from \"@/store/store\";\r\nimport Link from \"next/link\";\r\n\r\nconst Index: NextPage = ({ message }: any) => {\r\n  const dispatch = appDispatch();\r\n  const { data, pending, error } = appSelector((state) => state.kanyeQuote);\r\n\r\n  return (\r\n    <div>\r\n      <h2>User</h2>\r\n      <p>{message}</p>\r\n      <Link href=\"/admin/news\">GO News</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const getStaticProps = wrapper.getStaticProps(\r\n  (store) =>\r\n    async ({ req, res }: any) => {\r\n      return {\r\n        props: { message: \"Hello world!\" },\r\n      };\r\n    }\r\n);\r\n\r\nexport default withAuth(Index);\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatch, RootState } from \"@/store/store\";\r\n\r\nexport const appDispatch = () => useDispatch<AppDispatch>();\r\nexport const appSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n"],"names":["window","__NEXT_P","push","__webpack_require__","withAuth","router","useRouter","route","data","isAuthenticated","isAuthenticating","appSelector","state","login","dispatch","appDispatch","React","getSession","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","WrappedComponent","props","__webpack_exports__","Index","message","param","pending","error","kanyeQuote","jsxs","div","h2","p","Link","href","useDispatch","useSelector"],"sourceRoot":""}